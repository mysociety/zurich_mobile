<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover" />
        <link rel="stylesheet" type="text/css" href="css/ui-lightness/jquery-ui-1.10.0.custom.min.css" />
        <link rel="stylesheet" type="text/css" href="css/ratchet.css" />
        <!--<link rel="stylesheet" type="text/css" href="css/junior.css" />-->
        <link rel="stylesheet" type="text/css" href="css/base.css" />
        <link rel="stylesheet" type="text/css" href="css/mobile.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>FixMyZÃ¼rich</title>
    </head>
    <body>
        <div id="errorOverlay" class="nodisplay">
            <div id="error">
                <div id="msg"></div>
                <div>
                    <a class="button-blue" onclick="$('#errorOverlay').hide()" id="closeError">OK</a>
                </div>
            </div>
        </div>
        <div id="ajaxOverlay" class="nodisplay">
            <div class="spinner"></div>
        </div>
        <div id="app-container">
            <div id="app-main">
            </div>
        </div>

        <script type="text/javascript">
            window.FMS = window.FMS || {};
        </script>

        <script type="text/javascript" src="js/config.js"></script>
        <script type="text/javascript" src="js/modernizr.custom.15848.js"></script>
        <script type="text/javascript" src="js/jquery-1.9.0.min.js"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript">
            (function () {
                if (navigator.userAgent.match(/Android/) && parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8)) < 3) {
                    var styleElement = document.createElement("link");
                    styleElement.href = 'css/android-2.2.css';
                    styleElement.rel = "stylesheet";
                    $('head').prepend(styleElement);
                } else {
                    var styleElement = document.createElement("link");
                    styleElement.href = 'css/non-android-2.2.css';
                    styleElement.rel = "stylesheet";
                    $('head').prepend(styleElement);

                    styleElement = document.createElement("link");
                    styleElement.href = 'css/junior.css';
                    styleElement.rel = "stylesheet";
                    $('head').prepend(styleElement);
                }
            })();
        </script>
        <script type="text/javascript" src="js/zepto.flickable.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui-1.10.0.custom.min.js"></script>
        <script type="text/javascript" src="js/lodash.min.js"></script>
        <script type="text/javascript" src="js/backbone-min.js"></script>
        <script type="text/javascript" src="js/backbone.localStorage-min.js"></script>
        <script type="text/javascript" src="js/junior.js"></script>

        <script type="text/javascript" src="js/OpenLayers.2.11.zurich.js"></script>
        <script type="text/javascript" src="js/OpenLayers.Projection.CH1903Plus.js"></script>
        <script type="text/javascript" src="js/map-OpenLayers.js"></script>
        <script type="text/javascript" src="js/map-wmts-base.js"></script>
        <script type="text/javascript" src="js/map-wmts-zurich.js"></script>
        <script type="text/javascript">
            function setup_wmts_config() {
                window.fixmystreet = window.fixmystreet || {};
                // This code is usually provided by the wmts_config.html template
                // on the ZWN site, but obviously needs to be hardcoded in the app.
                // Defining it here means we can use map-wmts-base.js and
                // map-wmts-zurich.js from the main FMS repo unaltered.
                fixmystreet.wmts_config = {
                    'map_projection': 'EPSG:2056',
                    'tile_dpi': 96,
                    'tile_urls': ["https://www.ogc.stadt-zuerich.ch/mapproxy/wmts/", "https://www.ogc.stadt-zuerich.ch/mapproxy/wmts/"],
                    'tile_suffix': 'png',
                    // Whichever layer appears first in this list will be the
                    // default used for the map.
                    // NB: If you change the default, you must update the contents
                    // of #swap-map in www/templates/around.html and
                    // HYBRID_LAYER_INDEX/STADTPLAN_LAYER_INDEX below to match.
                    'layer_names': ["basiskarte_zuerich_orthofoto", "basiskarte_zuerich_gebaeudeschraegansicht"],
                    'layer_style': 'default',
                    'matrix_set': 'ktzh',
                    'scales': ["64000", "32000", "16000", "8000", "4000", "2000", "1000", "500", "250"],
                    'origin_x': 2480237.0,
                    'origin_y': 1315832.0
                };
                fixmystreet.HYBRID_LAYER_INDEX = 0;
                fixmystreet.STADTPLAN_LAYER_INDEX = 1;
            };
            setup_wmts_config();
        </script>

        <script type="text/javascript" src="js/strings.js"></script>
        <script type="text/javascript" src="js/locate.js"></script>
        <script type="text/javascript" src="js/models.js"></script>
        <script type="text/javascript" src="js/views.js"></script>
        <script type="text/javascript" src="js/index.js"></script>

    </body>
</html>
